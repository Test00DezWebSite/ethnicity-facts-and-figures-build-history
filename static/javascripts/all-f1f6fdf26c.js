function Accordion(e){document.querySelectorAll&&window.NodeList&&"classList"in document.body&&(this.element=e,this.sections=[],this.setup())}function AccordionSection(e,t){this.element=e,this.accordion=t,this.setup()}function SecondContactDetails(e){document.querySelectorAll&&window.NodeList&&"classList"in document.body&&(this.fieldset=e,this.setup())}function showDeleteForm(e){return document.getElementById("measure-action-section-"+e).style.display="none",document.getElementById("measure-action-section__delete-"+e).style.display="block",!1}function submitDeleteForm(e){var t=document.getElementById("delete-radio-yes-"+e);document.getElementById("delete-radio-no-"+e);return!0===t.checked?(console.log("true"),!0):(console.log("false or other"),hideDeleteForm(e))}function hideDeleteForm(e){return document.getElementById("measure-action-section__delete-"+e).style.display="none",document.getElementById("measure-action-section-"+e).style.display="block",!1}function SecondarySources(e){this.element=e,this.secondary_sources=[];var t=this;!function(){for(var e=t.element.querySelectorAll(".source"),n=0;n<e.length;n++)t.secondary_sources.push(new SecondarySource(e[n],t));t.showButtonForFirstHiddenSource()}()}function SecondarySource(e,t){this.fieldset=e,this.secondary_sources=t,this.hidden=!1;var n=this;!function(){for(var e=["radio","checkbox"],t=["submit","hidden","button"],o=n.fieldset.querySelectorAll("input, textarea"),r=!1,i=o.length-1;i>=0;i--)if(e.includes(o[i].type)&&!0===o[i].checked||!e.includes(o[i].type)&&!t.includes(o[i].type)&&""!=o[i].value){r=!0;break}n.add_secondary_source_button=document.createElement("button"),n.add_secondary_source_button.classList.add("link"),n.add_secondary_source_button.classList.add("hidden"),n.add_secondary_source_button.textContent="Add secondary source",n.add_secondary_source_button.addEventListener("click",n.addSourceButtonClicked.bind(n)),n.fieldset.parentElement.insertBefore(n.add_secondary_source_button,n.fieldset);var a=document.createElement("button");a.classList.add("delete"),a.classList.add("link"),a.textContent="Remove source",a.addEventListener("click",n.removeSourceButtonClicked.bind(n));var s=n.fieldset.querySelector("legend");s&&n.fieldset.insertBefore(a,s.nextSibling),n.setHidden(!r)}()}function SortableTable(e,t,n){document.querySelectorAll&&document.querySelector&&window.NodeList&&(this.table=e,this.header_table=t,this.setupOptions(n),this.createHeadingButtons(),this.createStatusBox())}function TableWithFixedHeader(e){function t(){var e=n(c);s.style.marginTop="-"+e,i.style.paddingTop=e;var t=s.querySelectorAll("thead th, thead td"),r=d.querySelectorAll("thead th, thead td");l.style.width="100000px";for(var u=0;u<t.length;u++)r[u].style.width=o(t[u]);l.style.width=o(d),s.style.width=o(d),a.style.width=o(d),o(d)!=o(s)&&(a.style.width=parseFloat(o(d))+20+"px")}function n(e){var t;return"function"==typeof window.getComputedStyle&&(t=getComputedStyle(e).height),t&&"auto"!=t||(t=e.getBoundingClientRect().bottom-e.getBoundingClientRect().top+"px"),t}function o(e){return"function"==typeof window.getComputedStyle?getComputedStyle(e).width:e.getBoundingClientRect().right-e.getBoundingClientRect().left}var r,i,a,s,d,c,l,e=e;document.querySelector&&document.body.classList&&function(){if(e&&(r=e.querySelector(".table-container-middle"),i=e.querySelector(".table-container-inner"),a=e.querySelector(".table-container"),s=e.querySelector("table"),a)){var n=(c=s.querySelector("thead")).cloneNode(!0);n.classList.add("fixed"),(d=document.createElement("table")).setAttribute("class",s.getAttribute("class")+" fixed"),d.classList.remove("fixed-headers"),d.appendChild(n),(l=document.createElement("div")).classList.add("fixed-header-container"),l.appendChild(d),i.appendChild(l),setTimeout(t,200)}}()}!function(){if(Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),!Element.prototype.addEventListener){var e=[],t=function(t,n){var o=this,r=function(e){e.target=e.srcElement,e.currentTarget=o,void 0!==n.handleEvent?n.handleEvent(e):n.call(o,e)};if("DOMContentLoaded"==t){var i=function(e){"complete"==document.readyState&&r(e)};if(document.attachEvent("onreadystatechange",i),e.push({object:this,type:t,listener:n,wrapper:i}),"complete"==document.readyState){var a=new Event;a.srcElement=window,i(a)}}else this.attachEvent("on"+t,r),e.push({object:this,type:t,listener:n,wrapper:r})},n=function(t,n){for(var o=0;o<e.length;){var r=e[o];if(r.object==this&&r.type==t&&r.listener==n){"DOMContentLoaded"==t?this.detachEvent("onreadystatechange",r.wrapper):this.detachEvent("on"+t,r.wrapper),e.splice(o,1);break}++o}};Element.prototype.addEventListener=t,Element.prototype.removeEventListener=n,HTMLDocument&&(HTMLDocument.prototype.addEventListener=t,HTMLDocument.prototype.removeEventListener=n),Window&&(Window.prototype.addEventListener=t,Window.prototype.removeEventListener=n)}}(),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,o=function(){},r=function(){return n.apply(this instanceof o&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,r.prototype=new o,r}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(e,t)},s=function(e){for(var t=o.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},d=s.prototype=[],c=function(){return new s(this)};if(i.prototype=Error.prototype,d.item=function(e){return this[e]||null},d.contains=function(e){return e+="",-1!==a(this,e)},d.add=function(){var e,t=arguments,n=0,o=t.length,r=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),r=!0)}while(++n<o);r&&this._updateClassName()},d.remove=function(){var e,t,n=arguments,o=0,r=n.length,i=!1;do{for(e=n[o]+"",t=a(this,e);-1!==t;)this.splice(t,1),i=!0,t=a(this,e)}while(++o<r);i&&this._updateClassName()},d.toggle=function(e,t){e+="";var n=this.contains(e),o=n?!0!==t&&"remove":!1!==t&&"add";return o&&this[o](e),!0===t||!1===t?t:!n},d.toString=function(){return this.join(" ")},n.defineProperty){var l={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",l)}catch(e){void 0!==e.number&&-2146823252!==e.number||(l.enumerable=!1,n.defineProperty(t,"classList",l))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}}(self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,o=arguments.length;for(n=0;n<o;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}()),function(){"use strict";function e(e,t,n){e.addEventListener?e.addEventListener(t,function(e){n(e,e.target)},!1):e.attachEvent&&e.attachEvent("on"+t,function(e){n(e,e.srcElement)})}function t(e){return"number"==typeof e.which?e.which:e.keyCode}function n(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function o(o,r){e(o,"keypress",function(e,o){t(e)!==s&&t(e)!==d||"summary"===o.nodeName.toLowerCase()&&(n(e),o.click?o.click():r(e,o))}),e(o,"keyup",function(e,o){t(e)===d&&"SUMMARY"===o.nodeName&&n(e)}),e(o,"click",function(e,t){r(e,t)})}function r(e,t){do{if(!e||e.nodeName.toLowerCase()===t)break;e=e.parentNode}while(e);return e}function i(e){function t(e){var t="true"===e.__details.__summary.getAttribute("aria-expanded"),n="true"===e.__details.__content.getAttribute("aria-hidden");return e.__details.__summary.setAttribute("aria-expanded",t?"false":"true"),e.__details.__content.setAttribute("aria-hidden",n?"false":"true"),a||(e.__details.__content.style.display=t?"none":"",null!==e.__details.getAttribute("open")?e.__details.removeAttribute("open"):e.__details.setAttribute("open","open")),e.__twisty&&(e.__twisty.firstChild.nodeValue=t?"►":"▼",e.__twisty.setAttribute("class",t?"arrow arrow-closed":"arrow arrow-open")),!0}if(!c&&(c=!0,0!==(e=document.getElementsByTagName("details")).length)){var n=e.length,i=0;for(i;i<n;i++){var s=e[i];if(s.__summary=s.getElementsByTagName("summary").item(0),s.__content=s.getElementsByTagName("div").item(0),!s.__summary||!s.__content)return;s.__content.id||(s.__content.id="details-content-"+i),s.setAttribute("role","group"),s.__summary.setAttribute("role","button"),s.__summary.setAttribute("aria-controls",s.__content.id),a||(s.__summary.tabIndex=0);var d=null!==s.getAttribute("open");if(!0===d?(s.__summary.setAttribute("aria-expanded","true"),s.__content.setAttribute("aria-hidden","false")):(s.__summary.setAttribute("aria-expanded","false"),s.__content.setAttribute("aria-hidden","true"),a||(s.__content.style.display="none")),s.__summary.__details=s,!a){var l=document.createElement("i");!0===d?(l.className="arrow arrow-open",l.appendChild(document.createTextNode("▼"))):(l.className="arrow arrow-closed",l.appendChild(document.createTextNode("►"))),s.__summary.__twisty=s.__summary.insertBefore(l,s.__summary.firstChild),s.__summary.__twisty.setAttribute("aria-hidden","true")}}o(document,function(e,n){return!(n=r(n,"summary"))||t(n)})}}var a="boolean"==typeof document.createElement("details").open,s=13,d=32,c=!1;e(document,"DOMContentLoaded",i),e(window,"load",i)}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),function(){"use strict";var e=this;void 0===e.GOVUK&&(e.GOVUK={}),GOVUK.cookie=function(e,t,n){return void 0!==t?!1===t||null===t?GOVUK.setCookie(e,"",{days:-1}):GOVUK.setCookie(e,t,n):GOVUK.getCookie(e)},GOVUK.setCookie=function(e,t,n){void 0===n&&(n={});var o=e+"="+t+"; path=/";if(n.days){var r=new Date;r.setTime(r.getTime()+24*n.days*60*60*1e3),o=o+"; expires="+r.toGMTString()}"https:"==document.location.protocol&&(o+="; Secure"),document.cookie=o},GOVUK.getCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0,r=n.length;o<r;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return decodeURIComponent(i.substring(t.length))}return null}}.call(this),function(){"use strict";var e=this;void 0===e.GOVUK&&(e.GOVUK={}),GOVUK.addCookieMessage=function(){var e=document.getElementById("global-cookie-message");e&&null===GOVUK.cookie("seen_cookie_message")&&(e.style.display="block",GOVUK.cookie("seen_cookie_message","yes",{days:28}))}}.call(this),function(){"use strict";window.GOVUK&&GOVUK.addCookieMessage&&GOVUK.addCookieMessage()}.call(this),Accordion.prototype.setup=function(){for(var e=this.element.querySelectorAll(".accordion-section"),t=this,n=e.length-1;n>=0;n--)t.sections.push(new AccordionSection(e[n],t));var o=document.createElement("div");o.setAttribute("class","accordion-controls");var r=document.createElement("button");r.textContent="Open all",r.setAttribute("class","accordion-expand-all"),r.setAttribute("aria-expanded","false"),r.setAttribute("data-on","click"),r.setAttribute("data-event-category","Accordion"),r.setAttribute("data-event-action","All opened"),r.addEventListener("click",this.openOrCloseAll.bind(this)),o.appendChild(r),this.element.insertBefore(o,this.element.firstChild),this.element.classList.add("with-js")},Accordion.prototype.openOrCloseAll=function(e){var t=e.target,n=!("true"==t.getAttribute("aria-expanded")),o=n?"All closed":"All opened";t.setAttribute("data-event-action",o);for(var r=this.sections.length-1;r>=0;r--)this.sections[r].setExpanded(n);this.setOpenCloseButtonExpanded(n)},Accordion.prototype.setOpenCloseButtonExpanded=function(e){var t=this.element.querySelector(".accordion-expand-all"),n=e?"Close all":"Open all";t.setAttribute("aria-expanded",e),t.textContent=n},Accordion.prototype.updateOpenAll=function(){for(var e=this.sections.length,t=0,n=this.sections.length-1;n>=0;n--)this.sections[n].expanded()&&(t+=1);e==t?this.setOpenCloseButtonExpanded(!0):this.setOpenCloseButtonExpanded(!1)},AccordionSection.prototype.setup=function(){this.element.setAttribute("aria-expanded","false"),this.header=this.element.querySelector(".accordion-section-header"),this.header.addEventListener("click",this.toggleExpanded.bind(this));var e=document.createElement("span");e.setAttribute("class","icon"),this.header.appendChild(e)},AccordionSection.prototype.toggleExpanded=function(){var e="true"==this.element.getAttribute("aria-expanded");this.setExpanded(!e),this.accordion.updateOpenAll()},AccordionSection.prototype.expanded=function(){return"true"==this.element.getAttribute("aria-expanded")},AccordionSection.prototype.setExpanded=function(e){this.element.setAttribute("aria-expanded",e);var t=e?"Section closed":"Section opened";this.header.setAttribute("data-event-action",t),this.element.className=this.element.className},"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".accordion"),t=e.length-1;t>=0;t--)new Accordion(e[t])}),SecondContactDetails.prototype.setup=function(){for(var e=this.fieldset.querySelectorAll("input"),t=!1,n=e.length-1;n>=0;n--)if(""!=e[n].value){t=!0;break}t||(this.fieldset.classList.add("hidden"),this.add_second_contact_button=document.createElement("button"),this.add_second_contact_button.classList.add("link"),this.add_second_contact_button.textContent="Add second contact",this.add_second_contact_button.addEventListener("click",this.expandFieldset.bind(this)),this.fieldset.parentElement.insertBefore(this.add_second_contact_button,this.fieldset))},SecondContactDetails.prototype.expandFieldset=function(){this.add_second_contact_button.remove(),this.fieldset.classList.remove("hidden")},"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".js-second-contact-details"),t=e.length-1;t>=0;t--)new SecondContactDetails(e[t])}),document.addEventListener("DOMContentLoaded",function(){for(var e=document.getElementsByTagName("DETAILS"),t=e.length-1;t>=0;t--)e[t].addEventListener("toggle",function(e){var t=e.target;if(!0===t.open||!1===t.open){var n=!0===t.open?"Closed":"Opened";t.setAttribute("data-event-action",n)}})}),SecondarySources.prototype.showButtonForFirstHiddenSource=function(){if(this.secondary_sources.length>0)for(var e=!1,t=0;t<this.secondary_sources.length;t++)this.secondary_sources[t].hidden&&0==e?(this.secondary_sources[t].showAddSourceButton(!0),e=!0):this.secondary_sources[t].showAddSourceButton(!1)},SecondarySource.prototype.setHidden=function(e){this.hidden=e,e?this.fieldset.classList.add("hidden"):this.fieldset.classList.remove("hidden"),this.secondary_sources.showButtonForFirstHiddenSource()},SecondarySource.prototype.showAddSourceButton=function(e){e?this.add_secondary_source_button.classList.remove("hidden"):this.add_secondary_source_button.classList.add("hidden")},SecondarySource.prototype.addSourceButtonClicked=function(e){this.setHidden(!1),e.preventDefault()},SecondarySource.prototype.removeSourceButtonClicked=function(e){for(var t=this.fieldset.querySelectorAll("input, textarea"),n=0;n<t.length;n++)t[n].value="",t[n].checked=!1;this.setHidden(!0),e.preventDefault()},"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".js-secondary-sources"),t=e.length-1;t>=0;t--)new SecondarySources(e[t])}),SortableTable.prototype.setupOptions=function(e){(e=e||{}).statusMessage=e.statusMessage||"Sort by %heading% (%direction%)",e.ascendingText=e.ascendingText||"ascending",e.descendingText=e.descendingText||"descending",this.options=e},SortableTable.prototype.createHeadingButtons=function(){for(var e=this.table.querySelectorAll("thead tr"),t=0;t<e.length;t++)for(var n=e[t].querySelectorAll("th"),o=0;o<n.length;o++)(r=n[o]).getAttribute("aria-sort")&&this.createHeadingButton(r,o);if(this.header_table)for(var e=this.header_table.querySelectorAll("thead tr"),t=0;t<e.length;t++)for(var r,n=e[t].querySelectorAll("th"),o=0;o<n.length;o++)(r=n[o]).getAttribute("aria-sort")&&this.createHeadingButton(r,o)},SortableTable.prototype.createHeadingButton=function(e,t){var n=e.textContent,o=document.createElement("button");o.setAttribute("type","button"),o.setAttribute("data-index",t),o.textContent=n,o.addEventListener("click",this.sortButtonClicked.bind(this)),e.textContent="","ga"in window&&(o.setAttribute("data-on","click"),o.setAttribute("data-event-category","Table column sorted"),o.setAttribute("data-event-action","Descending"),o.setAttribute("data-event-label",n.trim())),e.appendChild(o)},SortableTable.prototype.createStatusBox=function(){this.status=document.createElement("div"),this.status.setAttribute("aria-live","polite"),this.status.setAttribute("role","status"),this.status.setAttribute("aria-atomic","true"),this.status.setAttribute("class","sortableTable-status visuallyhidden"),this.table.parentElement.appendChild(this.status)},SortableTable.prototype.sortButtonClicked=function(e){var t,n=e.target.getAttribute("data-index"),o=e.target.parentElement.getAttribute("aria-sort");t="none"===o||"ascending"===o?"descending":"ascending";var r=this.table.querySelectorAll("tbody");this.sortTBodies(r,n,t);for(var i=r.length-1;i>=0;i--){var a=this.getTableRowsArray(r[i]),s=this.sort(a,n,t);this.addRows(r[i],s)}this.removeButtonStates(),this.updateButtonState(e.target,t)},SortableTable.prototype.sortTBodies=function(e,t,n){for(var o=[],r=this,i=0;i<e.length;i++)o.push(e[i]);for(var a=o.sort(function(e,o){var i=e.querySelector('th[scope="rowgroup"]'),a=o.querySelector('th[scope="rowgroup"]');if(i&&a){i=i.parentElement,a=a.parentElement;var s=i.querySelectorAll("td, th")[t],d=a.querySelectorAll("td, th")[t],c=r.getCellValue(s),l=r.getCellValue(d);return r.compareValues(c,l,n)}return console.log("no way to compare tbodies"),0}),i=0;i<a.length;i++)this.table.appendChild(a[i])},SortableTable.prototype.compareValues=function(e,t,n){return"ascending"===n?e<t?-1:e>t?1:0:t<e?-1:t>e?1:0},SortableTable.prototype.updateButtonState=function(e,t){if(e.parentElement.setAttribute("aria-sort",t),"ga"in window){var n="ascending"==t?"Descending":"Ascending";e.setAttribute("data-event-action",n)}var o=this.options.statusMessage;o=(o=o.replace(/%heading%/,e.textContent)).replace(/%direction%/,this.options[t+"Text"]),this.status.textContent=o},SortableTable.prototype.removeButtonStates=function(){for(var e=this.table.querySelectorAll("thead th"),t=e.length-1;t>=0;t--)e[t].setAttribute("aria-sort","none");if(this.header_table){for(t=(e=this.header_table.querySelectorAll("thead th")).length-1;t>=0;t--)e[t].setAttribute("aria-sort","none");if("ga"in window)for(var n=this.header_table.querySelectorAll("thead button"),t=n.length-1;t>=0;t--)n[t].setAttribute("data-event-action","Descending")}},SortableTable.prototype.addRows=function(e,t){for(var n=0;n<t.length;n++)e.appendChild(t[n])},SortableTable.prototype.getTableRowsArray=function(e){for(var t=[],n=e.querySelectorAll("tr"),o=0;o<n.length;o++)t.push(n[o]);return t},SortableTable.prototype.sort=function(e,t,n){var o=this;return e.sort(function(e,r){var i=e.querySelectorAll("td, th")[t],a=r.querySelectorAll("td, th")[t],s=e.querySelector('th[scope="rowgroup"]'),d=r.querySelector('th[scope="rowgroup"]'),c=o.getCellValue(i),l=o.getCellValue(a);return s?-1:d?1:"ascending"===n?c<l?-1:c>l?1:0:l<c?-1:l>c?1:0})},SortableTable.prototype.getCellValue=function(e){var t;if(e)if(1==e.children.length&&"TIME"==e.children[0].tagName){var n=e.children[0];t=n.getAttribute("datetime")?Date.parse(n.getAttribute("datetime")):Date.parse(n.textContent)}else t=(t=e.getAttribute("data-sort-value")||e.textContent).replace(/[,]/gi,""),t=parseFloat(t)||t;return t},document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".js--print"),t=e.length-1;t>=0;t--)e[t].addEventListener("click",function(e){e.preventDefault(),window.print()})}),"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".table-container-outer.fixed-headers"),t=0;t<e.length;t++)new TableWithFixedHeader(e[t])}),"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".table-container-outer"),t=e.length-1;t>=0;t--)new SortableTable(e[t].querySelector("table"),e[t].querySelector("table.fixed"),{})});
//# sourceMappingURL=all.js.map
