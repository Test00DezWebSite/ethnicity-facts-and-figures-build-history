function Accordion(t){document.querySelectorAll&&window.NodeList&&"classList"in document.body&&(this.element=t,this.sections=[],this.setup())}function AccordionSection(t,e){this.element=t,this.accordion=e,this.setup()}function SecondContactDetails(t){document.querySelectorAll&&window.NodeList&&"classList"in document.body&&(this.fieldset=t,this.setup())}function SecondarySources(t){this.element=t,this.secondary_sources=[];var e=this;!function(){for(var t=e.element.querySelectorAll(".source"),n=0;n<t.length;n++)e.secondary_sources.push(new SecondarySource(t[n],e));e.showButtonForFirstHiddenSource()}()}function SecondarySource(t,e){this.fieldset=t,this.secondary_sources=e,this.hidden=!1;var n=this;!function(){for(var t=["radio","checkbox"],e=["submit","hidden","button"],o=n.fieldset.querySelectorAll("input, textarea"),r=!1,i=o.length-1;i>=0;i--)if(t.includes(o[i].type)&&!0===o[i].checked||!t.includes(o[i].type)&&!e.includes(o[i].type)&&""!=o[i].value){r=!0;break}n.add_secondary_source_button=document.createElement("button"),n.add_secondary_source_button.classList.add("link"),n.add_secondary_source_button.classList.add("hidden"),n.add_secondary_source_button.textContent="Add secondary source",n.add_secondary_source_button.addEventListener("click",n.addSourceButtonClicked.bind(n)),n.fieldset.parentElement.insertBefore(n.add_secondary_source_button,n.fieldset);var a=document.createElement("button");a.classList.add("delete"),a.classList.add("link"),a.textContent="Remove source",a.addEventListener("click",n.removeSourceButtonClicked.bind(n));var s=n.fieldset.querySelector("legend");s&&n.fieldset.insertBefore(a,s.nextSibling),n.setHidden(!r)}()}function SortableTable(t,e,n){document.querySelectorAll&&document.querySelector&&window.NodeList&&(this.table=t,this.header_table=e,this.setupOptions(n),this.createHeadingButtons(),this.createStatusBox())}function TableWithFixedHeader(t){function e(){var t=n(c);s.style.marginTop="-"+t,i.style.paddingTop=t;var e=s.querySelectorAll("thead th, thead td"),r=d.querySelectorAll("thead th, thead td");l.style.width="100000px";for(var u=0;u<e.length;u++)r[u].style.width=o(e[u]);l.style.width=o(d),s.style.width=o(d),a.style.width=o(d),o(d)!=o(s)&&(a.style.width=parseFloat(o(d))+20+"px")}function n(t){var e;return"function"==typeof window.getComputedStyle&&(e=getComputedStyle(t).height),e&&"auto"!=e||(e=t.getBoundingClientRect().bottom-t.getBoundingClientRect().top+"px"),e}function o(t){return"function"==typeof window.getComputedStyle?getComputedStyle(t).width:t.getBoundingClientRect().right-t.getBoundingClientRect().left}var r,i,a,s,d,c,l,t=t;document.querySelector&&document.body.classList&&function(){if(t&&(r=t.querySelector(".table-container-middle"),i=t.querySelector(".table-container-inner"),a=t.querySelector(".table-container"),s=t.querySelector("table"),a)){var n=(c=s.querySelector("thead")).cloneNode(!0);n.classList.add("fixed"),(d=document.createElement("table")).setAttribute("class",s.getAttribute("class")+" fixed"),d.classList.remove("fixed-headers"),d.appendChild(n),(l=document.createElement("div")).classList.add("fixed-header-container"),l.appendChild(d),i.appendChild(l),setTimeout(e,200)}}()}!function(){if(Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0}),!Element.prototype.addEventListener){var t=[],e=function(e,n){var o=this,r=function(t){t.target=t.srcElement,t.currentTarget=o,void 0!==n.handleEvent?n.handleEvent(t):n.call(o,t)};if("DOMContentLoaded"==e){var i=function(t){"complete"==document.readyState&&r(t)};if(document.attachEvent("onreadystatechange",i),t.push({object:this,type:e,listener:n,wrapper:i}),"complete"==document.readyState){var a=new Event;a.srcElement=window,i(a)}}else this.attachEvent("on"+e,r),t.push({object:this,type:e,listener:n,wrapper:r})},n=function(e,n){for(var o=0;o<t.length;){var r=t[o];if(r.object==this&&r.type==e&&r.listener==n){"DOMContentLoaded"==e?this.detachEvent("onreadystatechange",r.wrapper):this.detachEvent("on"+e,r.wrapper),t.splice(o,1);break}++o}};Element.prototype.addEventListener=e,Element.prototype.removeEventListener=n,HTMLDocument&&(HTMLDocument.prototype.addEventListener=e,HTMLDocument.prototype.removeEventListener=n),Window&&(Window.prototype.addEventListener=e,Window.prototype.removeEventListener=n)}}(),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,o=function(){},r=function(){return n.apply(this instanceof o&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return o.prototype=this.prototype,r.prototype=new o,r}),"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(t){"use strict";if("Element"in t){var e=t.Element.prototype,n=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},i=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new i("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new i("INVALID_CHARACTER_ERR","String contains an invalid character");return r.call(t,e)},s=function(t){for(var e=o.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],r=0,i=n.length;r<i;r++)this.push(n[r]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},d=s.prototype=[],c=function(){return new s(this)};if(i.prototype=Error.prototype,d.item=function(t){return this[t]||null},d.contains=function(t){return t+="",-1!==a(this,t)},d.add=function(){var t,e=arguments,n=0,o=e.length,r=!1;do{t=e[n]+"",-1===a(this,t)&&(this.push(t),r=!0)}while(++n<o);r&&this._updateClassName()},d.remove=function(){var t,e,n=arguments,o=0,r=n.length,i=!1;do{for(t=n[o]+"",e=a(this,t);-1!==e;)this.splice(e,1),i=!0,e=a(this,t)}while(++o<r);i&&this._updateClassName()},d.toggle=function(t,e){t+="";var n=this.contains(t),o=n?!0!==e&&"remove":!1!==e&&"add";return o&&this[o](t),!0===e||!1===e?e:!n},d.toString=function(){return this.join(" ")},n.defineProperty){var l={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",l)}catch(t){void 0!==t.number&&-2146823252!==t.number||(l.enumerable=!1,n.defineProperty(e,"classList",l))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}}(self),function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,o=arguments.length;for(n=0;n<o;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}()),function(){"use strict";function t(t,e,n){t.addEventListener?t.addEventListener(e,function(t){n(t,t.target)},!1):t.attachEvent&&t.attachEvent("on"+e,function(t){n(t,t.srcElement)})}function e(t){return"number"==typeof t.which?t.which:t.keyCode}function n(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function o(o,r){t(o,"keypress",function(t,o){e(t)!==s&&e(t)!==d||"summary"===o.nodeName.toLowerCase()&&(n(t),o.click?o.click():r(t,o))}),t(o,"keyup",function(t,o){e(t)===d&&"SUMMARY"===o.nodeName&&n(t)}),t(o,"click",function(t,e){r(t,e)})}function r(t,e){do{if(!t||t.nodeName.toLowerCase()===e)break;t=t.parentNode}while(t);return t}function i(t){function e(t){var e="true"===t.__details.__summary.getAttribute("aria-expanded"),n="true"===t.__details.__content.getAttribute("aria-hidden");return t.__details.__summary.setAttribute("aria-expanded",e?"false":"true"),t.__details.__content.setAttribute("aria-hidden",n?"false":"true"),a||(t.__details.__content.style.display=e?"none":"",null!==t.__details.getAttribute("open")?t.__details.removeAttribute("open"):t.__details.setAttribute("open","open")),t.__twisty&&(t.__twisty.firstChild.nodeValue=e?"►":"▼",t.__twisty.setAttribute("class",e?"arrow arrow-closed":"arrow arrow-open")),!0}if(!c&&(c=!0,0!==(t=document.getElementsByTagName("details")).length)){var n=t.length,i=0;for(i;i<n;i++){var s=t[i];if(s.__summary=s.getElementsByTagName("summary").item(0),s.__content=s.getElementsByTagName("div").item(0),!s.__summary||!s.__content)return;s.__content.id||(s.__content.id="details-content-"+i),s.setAttribute("role","group"),s.__summary.setAttribute("role","button"),s.__summary.setAttribute("aria-controls",s.__content.id),a||(s.__summary.tabIndex=0);var d=null!==s.getAttribute("open");if(!0===d?(s.__summary.setAttribute("aria-expanded","true"),s.__content.setAttribute("aria-hidden","false")):(s.__summary.setAttribute("aria-expanded","false"),s.__content.setAttribute("aria-hidden","true"),a||(s.__content.style.display="none")),s.__summary.__details=s,!a){var l=document.createElement("i");!0===d?(l.className="arrow arrow-open",l.appendChild(document.createTextNode("▼"))):(l.className="arrow arrow-closed",l.appendChild(document.createTextNode("►"))),s.__summary.__twisty=s.__summary.insertBefore(l,s.__summary.firstChild),s.__summary.__twisty.setAttribute("aria-hidden","true")}}o(document,function(t,n){return!(n=r(n,"summary"))||e(n)})}}var a="boolean"==typeof document.createElement("details").open,s=13,d=32,c=!1;t(document,"DOMContentLoaded",i),t(window,"load",i)}(),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return t.get.call(this)},set:function(e){return t.set.call(this,e)}})}(),function(){"use strict";var t=this;void 0===t.GOVUK&&(t.GOVUK={}),GOVUK.cookie=function(t,e,n){return void 0!==e?!1===e||null===e?GOVUK.setCookie(t,"",{days:-1}):GOVUK.setCookie(t,e,n):GOVUK.getCookie(t)},GOVUK.setCookie=function(t,e,n){void 0===n&&(n={});var o=t+"="+e+"; path=/";if(n.days){var r=new Date;r.setTime(r.getTime()+24*n.days*60*60*1e3),o=o+"; expires="+r.toGMTString()}"https:"==document.location.protocol&&(o+="; Secure"),document.cookie=o},GOVUK.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),o=0,r=n.length;o<r;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(e))return decodeURIComponent(i.substring(e.length))}return null}}.call(this),function(){"use strict";var t=this;void 0===t.GOVUK&&(t.GOVUK={}),GOVUK.addCookieMessage=function(){var t=document.getElementById("global-cookie-message");t&&null===GOVUK.cookie("seen_cookie_message")&&(t.style.display="block",GOVUK.cookie("seen_cookie_message","yes",{days:28}))}}.call(this),function(){"use strict";window.GOVUK&&GOVUK.addCookieMessage&&GOVUK.addCookieMessage()}.call(this),Accordion.prototype.setup=function(){for(var t=this.element.querySelectorAll(".accordion-section"),e=this,n=t.length-1;n>=0;n--)e.sections.push(new AccordionSection(t[n],e));var o=document.createElement("div");o.setAttribute("class","accordion-controls");var r=document.createElement("button");r.textContent="Open all",r.setAttribute("class","accordion-expand-all"),r.setAttribute("aria-expanded","false"),r.setAttribute("data-on","click"),r.setAttribute("data-event-category","Accordion"),r.setAttribute("data-event-action","All opened"),r.addEventListener("click",this.openOrCloseAll.bind(this)),o.appendChild(r),this.element.insertBefore(o,this.element.firstChild),this.element.classList.add("with-js")},Accordion.prototype.openOrCloseAll=function(t){var e=t.target,n=!("true"==e.getAttribute("aria-expanded")),o=n?"All closed":"All opened";e.setAttribute("data-event-action",o);for(var r=this.sections.length-1;r>=0;r--)this.sections[r].setExpanded(n);this.setOpenCloseButtonExpanded(n)},Accordion.prototype.setOpenCloseButtonExpanded=function(t){var e=this.element.querySelector(".accordion-expand-all"),n=t?"Close all":"Open all";e.setAttribute("aria-expanded",t),e.textContent=n},Accordion.prototype.updateOpenAll=function(){for(var t=this.sections.length,e=0,n=this.sections.length-1;n>=0;n--)this.sections[n].expanded()&&(e+=1);t==e?this.setOpenCloseButtonExpanded(!0):this.setOpenCloseButtonExpanded(!1)},AccordionSection.prototype.setup=function(){this.element.setAttribute("aria-expanded","false"),this.header=this.element.querySelector(".accordion-section-header"),this.header.addEventListener("click",this.toggleExpanded.bind(this));var t=document.createElement("span");t.setAttribute("class","icon"),this.header.appendChild(t)},AccordionSection.prototype.toggleExpanded=function(){var t="true"==this.element.getAttribute("aria-expanded");this.setExpanded(!t),this.accordion.updateOpenAll()},AccordionSection.prototype.expanded=function(){return"true"==this.element.getAttribute("aria-expanded")},AccordionSection.prototype.setExpanded=function(t){this.element.setAttribute("aria-expanded",t);var e=t?"Section closed":"Section opened";this.header.setAttribute("data-event-action",e),this.element.className=this.element.className},"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".accordion"),e=t.length-1;e>=0;e--)new Accordion(t[e])}),SecondContactDetails.prototype.setup=function(){for(var t=this.fieldset.querySelectorAll("input"),e=!1,n=t.length-1;n>=0;n--)if(""!=t[n].value){e=!0;break}e||(this.fieldset.classList.add("hidden"),this.add_second_contact_button=document.createElement("button"),this.add_second_contact_button.classList.add("link"),this.add_second_contact_button.textContent="Add second contact",this.add_second_contact_button.addEventListener("click",this.expandFieldset.bind(this)),this.fieldset.parentElement.insertBefore(this.add_second_contact_button,this.fieldset))},SecondContactDetails.prototype.expandFieldset=function(){this.add_second_contact_button.remove(),this.fieldset.classList.remove("hidden")},"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".js-second-contact-details"),e=t.length-1;e>=0;e--)new SecondContactDetails(t[e])}),document.addEventListener("DOMContentLoaded",function(){for(var t=document.getElementsByTagName("DETAILS"),e=t.length-1;e>=0;e--)t[e].addEventListener("toggle",function(t){var e=t.target;if(!0===e.open||!1===e.open){var n=!0===e.open?"Closed":"Opened";e.setAttribute("data-event-action",n)}})}),SecondarySources.prototype.showButtonForFirstHiddenSource=function(){if(this.secondary_sources.length>0)for(var t=!1,e=0;e<this.secondary_sources.length;e++)this.secondary_sources[e].hidden&&0==t?(this.secondary_sources[e].showAddSourceButton(!0),t=!0):this.secondary_sources[e].showAddSourceButton(!1)},SecondarySource.prototype.setHidden=function(t){this.hidden=t,t?this.fieldset.classList.add("hidden"):this.fieldset.classList.remove("hidden"),this.secondary_sources.showButtonForFirstHiddenSource()},SecondarySource.prototype.showAddSourceButton=function(t){t?this.add_secondary_source_button.classList.remove("hidden"):this.add_secondary_source_button.classList.add("hidden")},SecondarySource.prototype.addSourceButtonClicked=function(t){this.setHidden(!1),t.preventDefault()},SecondarySource.prototype.removeSourceButtonClicked=function(t){for(var e=this.fieldset.querySelectorAll("input, textarea"),n=0;n<e.length;n++)e[n].value="",e[n].checked=!1;this.setHidden(!0),t.preventDefault()},"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".js-secondary-sources"),e=t.length-1;e>=0;e--)new SecondarySources(t[e])}),SortableTable.prototype.setupOptions=function(t){(t=t||{}).statusMessage=t.statusMessage||"Sort by %heading% (%direction%)",t.ascendingText=t.ascendingText||"ascending",t.descendingText=t.descendingText||"descending",this.options=t},SortableTable.prototype.createHeadingButtons=function(){for(var t=this.table.querySelectorAll("thead tr"),e=0;e<t.length;e++)for(var n=t[e].querySelectorAll("th"),o=0;o<n.length;o++)(r=n[o]).getAttribute("aria-sort")&&this.createHeadingButton(r,o);if(this.header_table)for(var t=this.header_table.querySelectorAll("thead tr"),e=0;e<t.length;e++)for(var r,n=t[e].querySelectorAll("th"),o=0;o<n.length;o++)(r=n[o]).getAttribute("aria-sort")&&this.createHeadingButton(r,o)},SortableTable.prototype.createHeadingButton=function(t,e){var n=t.textContent,o=document.createElement("button");o.setAttribute("type","button"),o.setAttribute("data-index",e),o.textContent=n,o.addEventListener("click",this.sortButtonClicked.bind(this)),t.textContent="","ga"in window&&(o.setAttribute("data-on","click"),o.setAttribute("data-event-category","Table column sorted"),o.setAttribute("data-event-action","Descending"),o.setAttribute("data-event-label",n.trim())),t.appendChild(o)},SortableTable.prototype.createStatusBox=function(){this.status=document.createElement("div"),this.status.setAttribute("aria-live","polite"),this.status.setAttribute("role","status"),this.status.setAttribute("aria-atomic","true"),this.status.setAttribute("class","sortableTable-status visuallyhidden"),this.table.parentElement.appendChild(this.status)},SortableTable.prototype.sortButtonClicked=function(t){var e,n=t.target.getAttribute("data-index"),o=t.target.parentElement.getAttribute("aria-sort");e="none"===o||"ascending"===o?"descending":"ascending";var r=this.table.querySelectorAll("tbody");this.sortTBodies(r,n,e);for(var i=r.length-1;i>=0;i--){var a=this.getTableRowsArray(r[i]),s=this.sort(a,n,e);this.addRows(r[i],s)}this.removeButtonStates(),this.updateButtonState(t.target,e)},SortableTable.prototype.sortTBodies=function(t,e,n){for(var o=[],r=this,i=0;i<t.length;i++)o.push(t[i]);for(var a=o.sort(function(t,o){var i=t.querySelector('th[scope="rowgroup"]'),a=o.querySelector('th[scope="rowgroup"]');if(i&&a){i=i.parentElement,a=a.parentElement;var s=i.querySelectorAll("td, th")[e],d=a.querySelectorAll("td, th")[e],c=r.getCellValue(s),l=r.getCellValue(d);return r.compareValues(c,l,n)}return console.log("no way to compare tbodies"),0}),i=0;i<a.length;i++)this.table.appendChild(a[i])},SortableTable.prototype.compareValues=function(t,e,n){return"ascending"===n?t<e?-1:t>e?1:0:e<t?-1:e>t?1:0},SortableTable.prototype.updateButtonState=function(t,e){if(t.parentElement.setAttribute("aria-sort",e),"ga"in window){var n="ascending"==e?"Descending":"Ascending";t.setAttribute("data-event-action",n)}var o=this.options.statusMessage;o=(o=o.replace(/%heading%/,t.textContent)).replace(/%direction%/,this.options[e+"Text"]),this.status.textContent=o},SortableTable.prototype.removeButtonStates=function(){for(var t=this.table.querySelectorAll("thead th"),e=t.length-1;e>=0;e--)t[e].setAttribute("aria-sort","none");if(this.header_table){for(e=(t=this.header_table.querySelectorAll("thead th")).length-1;e>=0;e--)t[e].setAttribute("aria-sort","none");if("ga"in window)for(var n=this.header_table.querySelectorAll("thead button"),e=n.length-1;e>=0;e--)n[e].setAttribute("data-event-action","Descending")}},SortableTable.prototype.addRows=function(t,e){for(var n=0;n<e.length;n++)t.appendChild(e[n])},SortableTable.prototype.getTableRowsArray=function(t){for(var e=[],n=t.querySelectorAll("tr"),o=0;o<n.length;o++)e.push(n[o]);return e},SortableTable.prototype.sort=function(t,e,n){var o=this;return t.sort(function(t,r){var i=t.querySelectorAll("td, th")[e],a=r.querySelectorAll("td, th")[e],s=t.querySelector('th[scope="rowgroup"]'),d=r.querySelector('th[scope="rowgroup"]'),c=o.getCellValue(i),l=o.getCellValue(a);return s?-1:d?1:"ascending"===n?c<l?-1:c>l?1:0:l<c?-1:l>c?1:0})},SortableTable.prototype.getCellValue=function(t){var e;if(t)if(1==t.children.length&&"TIME"==t.children[0].tagName){var n=t.children[0];e=n.getAttribute("datetime")?Date.parse(n.getAttribute("datetime")):Date.parse(n.textContent)}else e=(e=t.getAttribute("data-sort-value")||t.textContent).replace(/[,]/gi,""),e=parseFloat(e)||e;return e},document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".js--print"),e=t.length-1;e>=0;e--)t[e].addEventListener("click",function(t){t.preventDefault(),window.print()})}),"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".table-container-outer.fixed-headers"),e=0;e<t.length;e++)new TableWithFixedHeader(t[e])}),"addEventListener"in document&&document.querySelectorAll&&document.addEventListener("DOMContentLoaded",function(){for(var t=document.querySelectorAll(".table-container-outer"),e=t.length-1;e>=0;e--)new SortableTable(t[e].querySelector("table"),t[e].querySelector("table.fixed"),{})});
//# sourceMappingURL=all.js.map
